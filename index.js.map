{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = '11098125-871cfab26b5ca42e81d1a6284';\n\nexport async function fetchImages(query) {\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: apiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n    return response.data.hits;\n  } catch (error) {\n    throw new Error('Error during loading images');\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.getElementById('gallery');\n\nexport function renderGallery(images) {\n  const markup = images\n    .map(\n      image => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      <div class=\"image-info\">\n        <div>Likes <span>${image.likes}</span></div>\n        <div>Views <span>${image.views}</span></div>\n        <div>Comments <span>${image.comments}</span></div>\n        <div>Downloads <span>${image.downloads}</span></div>\n      </div>\n    </a>\n  `\n    )\n    .join('');\n\n  galleryContainer.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery-item', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.getElementById('search-form');\nconst loader = document.getElementById('loader');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = document.getElementById('search-input').value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Enter keyword for searching',\n    });\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = 'block';\n\n  try {\n    const images = await fetchImages(query);\n    loader.style.display = 'none';\n\n    if (images.length === 0) {\n      iziToast.info({\n        title: 'No results',\n        message:\n          'Sorry, there are no images matching your search query. Please, try again!',\n      });\n      return;\n    }\n\n    renderGallery(images);\n  } catch (error) {\n    loader.style.display = 'none';\n    iziToast.error({ title: 'Error', message: error.message });\n  }\n});\n"],"names":["apiKey","fetchImages","query","axios","galleryContainer","renderGallery","images","markup","image","SimpleLightbox","clearGallery","form","loader","event","iziToast","error"],"mappings":"+vBAEA,MAAMA,EAAS,qCAER,eAAeC,EAAYC,EAAO,CACvC,GAAI,CAUF,OATiB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GACe,KAAK,IACtB,MAAe,CACd,MAAM,IAAI,MAAM,6BAA6B,CACjD,CACA,CChBA,MAAME,EAAmB,SAAS,eAAe,SAAS,EAEnD,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA,eACAA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2BAE7BA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI9C,EACK,KAAK,EAAE,EAEVJ,EAAiB,UAAYG,EAEZ,IAAIE,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAS,CACpB,CAEO,SAASC,GAAe,CAC7BN,EAAiB,UAAY,EAC/B,CC5BA,MAAMO,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAS,SAAS,eAAe,QAAQ,EAE/CD,EAAK,iBAAiB,SAAU,MAAME,GAAS,CAC7CA,EAAM,eAAgB,EACtB,MAAMX,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,KAAM,EAElE,GAAI,CAACA,EAAO,CACVY,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACf,CAAK,EACD,MACJ,CAEEJ,EAAc,EACdE,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMN,EAAS,MAAML,EAAYC,CAAK,EAGtC,GAFAU,EAAO,MAAM,QAAU,OAEnBN,EAAO,SAAW,EAAG,CACvBQ,EAAS,KAAK,CACZ,MAAO,aACP,QACE,2EACV,CAAO,EACD,MACN,CAEIT,EAAcC,CAAM,CACrB,OAAQS,EAAO,CACdH,EAAO,MAAM,QAAU,OACvBE,EAAS,MAAM,CAAE,MAAO,QAAS,QAASC,EAAM,QAAS,CAC7D,CACA,CAAC"}